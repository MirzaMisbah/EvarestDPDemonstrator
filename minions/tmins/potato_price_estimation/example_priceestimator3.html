
<html>
<head>
    <!-- important for keras.js -->
    <meta charset="utf-8">
</head>
<body>
<!-- Imports of necessary js libs -->
<script src='./priceestimator3.js'></script>
<script src='./keras.min.js'></script>

<!-- An example use of estimator -->
<script>
    // this should be a list of input values, similar to sklearn
    var x = [[["2013-08-07", 13.9, 13.9, 13.8, 13.8, 6, 82.9, 95, 13.8], ["2013-08-08", 13.8, 14, 13.8, 14, 5, 69.8, 90, 14], ["2013-08-12", 15, 15, 15, 15, 2, 30, 89, 15], ["2013-08-13", 15, 15, 15, 15, 2, 30, 89, 15], ["2013-08-14", 15, 15, 14.4, 14.8, 12, 177.2, 89, 14.8], ["2013-08-15", 15, 15.3, 15, 15.3, 8, 120.8, 90, 15.1], ["2013-08-16", 15.7, 16.1, 15.7, 16, 11, 175.6, 93, 16], ["2013-08-19", 15.7, 16.1, 15.7, 16, null, null, 96, 15.5], ["2013-08-22", 15.9, 15.9, 15.9, 15.9, 1, 15.9, 96, 15.9], ["2013-08-26", 16, 16, 16, 16, 3, 48, 95, 16], ["2013-08-27", 16, 16, 15.7, 15.7, 4, 63.7, 96, 15.9], ["2013-08-30", 16, 16, 16, 16, 2, 32, 99, 16], ["2013-09-03", 16.3, 16.4, 16.3, 16.4, 3, 49, 101, 16.3], ["2013-09-04", 16.5, 16.5, 16.5, 16.5, 1, 16.5, 101, 16.5], ["2013-09-05", 16.5, 16.8, 16.5, 16.8, 9, 149.6, 101, 16.6], ["2013-09-06", 16.1, 16.1, 15.6, 15.6, 6, 94.1, 107, 15.7], ["2013-09-13", 16.4, 16.4, 16.4, 16.4, 2, 32.8, 109, 16.4], ["2013-09-26", 16, 16, 16, 16, 5, 80, 107, 16], ["2013-09-27", 16, 16, 16, 16, 5, 80, 112, 16], ["2013-10-14", 17, 17, 17, 17, 1, 17, 117, 17]], [["2013-08-08", 13.8, 14, 13.8, 14, 5, 69.8, 90, 14], ["2013-08-12", 15, 15, 15, 15, 2, 30, 89, 15], ["2013-08-13", 15, 15, 15, 15, 2, 30, 89, 15], ["2013-08-14", 15, 15, 14.4, 14.8, 12, 177.2, 89, 14.8], ["2013-08-15", 15, 15.3, 15, 15.3, 8, 120.8, 90, 15.1], ["2013-08-16", 15.7, 16.1, 15.7, 16, 11, 175.6, 93, 16], ["2013-08-19", 15.7, 16.1, 15.7, 16, null, null, 96, 15.5], ["2013-08-22", 15.9, 15.9, 15.9, 15.9, 1, 15.9, 96, 15.9], ["2013-08-26", 16, 16, 16, 16, 3, 48, 95, 16], ["2013-08-27", 16, 16, 15.7, 15.7, 4, 63.7, 96, 15.9], ["2013-08-30", 16, 16, 16, 16, 2, 32, 99, 16], ["2013-09-03", 16.3, 16.4, 16.3, 16.4, 3, 49, 101, 16.3], ["2013-09-04", 16.5, 16.5, 16.5, 16.5, 1, 16.5, 101, 16.5], ["2013-09-05", 16.5, 16.8, 16.5, 16.8, 9, 149.6, 101, 16.6], ["2013-09-06", 16.1, 16.1, 15.6, 15.6, 6, 94.1, 107, 15.7], ["2013-09-13", 16.4, 16.4, 16.4, 16.4, 2, 32.8, 109, 16.4], ["2013-09-26", 16, 16, 16, 16, 5, 80, 107, 16], ["2013-09-27", 16, 16, 16, 16, 5, 80, 112, 16], ["2013-10-14", 17, 17, 17, 17, 1, 17, 117, 17], ["2013-11-08", 15.1, 15.1, 15, 15, 6, 90.5, 118, 15.1]]];
    var yp = null;
    
    // create an instance of the estimator
    var model = new priceEstimator3()

    // load the estimator
    model.load({"model": "./priceestimator3.bin"}, function(){
    
        // make estimations with the estimator
        model.predict(x, function(res, err){
            // utilize the estimator
            window.yp = res
            // console.log(yp)
        })
    })
</script>
</body>
</html>
